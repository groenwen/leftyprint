{"version":3,"file":"js/351.3e2b516b.js","mappings":"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","sources":["webpack://leftyprint/./src/views/CartsView.vue","webpack://leftyprint/./src/views/CartsView.vue?5707"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <p>Carts</p>\r\n    <div class=\"text-end\">\r\n      <button class=\"btn btn-sm btn-secondary\" @click=\"clearCarts()\" :disabled=\"carts.length <= 0\">清除購物車</button>\r\n    </div>\r\n    <div>\r\n      <p class=\"text-secondary\" v-if=\"carts.length <= 0\">購物車尚無內容</p>\r\n      <table class=\"table mb-5\" v-else>\r\n        <thead>\r\n          <tr>\r\n            <td>Category</td>\r\n            <td>Title</td>\r\n            <td>單/雙面</td>\r\n            <td>尺寸</td>\r\n            <td>材質</td>\r\n            <td>張數</td>\r\n            <td>單價</td>\r\n            <td>總數</td>\r\n            <td>特價</td>\r\n            <td></td>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"item in carts\" :key=\"item.id\">\r\n            <td>\r\n              <img :src=\"item.file\" height=\"120\" alt=\"\">\r\n            </td>\r\n            <!-- <td><img :src=\"item.imageUrl\" width=\"100\" /></td> -->\r\n            <td>\r\n              <span class=\"badge text-bg-secondary\">{{ item.product.category }}</span><br />\r\n              {{ item.product.title }} <br />\r\n              <span class=\"small text-secondary\">{{ item.product.id }}</span>\r\n            </td>\r\n            <td>{{ item.product.content.side }}</td>\r\n            <td>{{ item.product.content.width }} mm X {{item.product.content.height }} mm</td>\r\n            <td>{{ item.product.content.material }}</td>\r\n            <td>{{ item.product.content.qty }} {{ item.product.unit }}</td>\r\n            <td>$ {{ item.product.price }}</td>\r\n            <td>{{ item.qty }}</td>\r\n            <td>$ {{ item.total }}</td>\r\n            <td><button class=\"btn btn-sm btn-outline-secondary\" @click=\"delCart(item.id)\">刪除</button></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <div class=\"row justify-content-center\">\r\n      <div class=\"col-8\">\r\n        <h3>收件人</h3>\r\n        <v-form ref=\"form\" v-slot=\"{ errors }\" @submit=\"onSubmit\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"name\" class=\"form-label\">姓名</label>\r\n            <v-field name=\"姓名\" id=\"name\" type=\"text\" rules=\"required\" class=\"form-control\" :class=\"{ 'is-invalid':errors['姓名'] }\" v-model=\"order.user.name\" placeholder=\"填入姓名\" />\r\n            <error-message name=\"姓名\" class=\"invalid-feedback\" />\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"email\" class=\"form-label\">Email</label>\r\n            <v-field name=\"email\" id=\"email\" type=\"email\" rules=\"required|email\" class=\"form-control\" :class=\"{ 'is-invalid':errors['email'] }\" v-model=\"order.user.email\" placeholder=\"填入 Email\" />\r\n            <error-message name=\"email\" class=\"invalid-feedback\" />\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"tel\" class=\"form-label\">電話</label>\r\n            <v-field name=\"電話\" id=\"tel\" type=\"tel\" rules=\"required|numeric|min:7|max:10\" class=\"form-control\" :class=\"{ 'is-invalid':errors['電話'] }\" v-model=\"order.user.tel\" />\r\n            <error-message name=\"電話\" class=\"invalid-feedback\" />\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"address\" class=\"form-label\">地址</label>\r\n            <v-field name=\"地址\" id=\"address\" type=\"text\" rules=\"required\" class=\"form-control\" :class=\"{ 'is-invalid':errors['地址'] }\" v-model=\"order.user.address\" />\r\n            <error-message name=\"地址\" class=\"invalid-feedback\" />\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"message\" class=\"form-label\">訂單備註</label>\r\n            <v-field as=\"textarea\" name=\"message\" id=\"message\" class=\"form-control\" rows=\"3\" v-model=\"order.message\" />\r\n          </div>\r\n          <button type=\"submit\" class=\"btn btn-primary\">結帳</button>\r\n        </v-form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n// todo: 地址導入縣市 select\r\nexport default {\r\n  data () {\r\n    return {\r\n      carts: [],\r\n      order: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getCarts () {\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\r\n      this.$http.get(url)\r\n        .then((res) => {\r\n          this.carts = res.data.data.carts\r\n          console.log(this.carts)\r\n        })\r\n        .catch((err) => {\r\n          alert(err.response.data.message)\r\n        })\r\n    },\r\n    clearCarts () {\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/carts`\r\n      this.$http.delete(url)\r\n        .then((res) => {\r\n          alert(res.data.message)\r\n          this.getCarts()\r\n        })\r\n        .catch((err) => {\r\n          alert(err.response.data.message)\r\n        })\r\n    },\r\n    delCart (id) {\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n      this.$http.delete(url)\r\n        .then((res) => {\r\n          alert(res.data.message)\r\n          this.getCarts()\r\n        })\r\n        .catch((err) => {\r\n          alert(err.response.data.message)\r\n        })\r\n    },\r\n    onSubmit () {\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`\r\n      this.$http.post(url, { data: { ...this.order } })\r\n        .then((res) => {\r\n          alert(res.data.message)\r\n          // 送出後 1.更新購物車 2.重置表單\r\n          this.getCarts()\r\n          this.$refs.form.resetForm()\r\n        })\r\n        .catch((err) => {\r\n          alert(err.response.data.message)\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getCarts()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./CartsView.vue?vue&type=template&id=1d9a98c3\"\nimport script from \"./CartsView.vue?vue&type=script&lang=js\"\nexport * from \"./CartsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\S2004001\\\\Downloads\\\\Hex\\\\leftyprint\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_2","onClick","$options","disabled","$data","length","_hoisted_4","_hoisted_7","_Fragment","_renderList","item","key","id","src","file","height","alt","_toDisplayString","product","category","_hoisted_10","title","_hoisted_11","content","side","width","material","qty","unit","price","total","_hoisted_13","_hoisted_16","_createVNode","_component_v_form","ref","onSubmit","errors","_hoisted_18","_component_v_field","name","rules","user","$event","placeholder","_component_error_message","_hoisted_20","email","_hoisted_22","tel","_hoisted_24","address","_hoisted_26","as","rows","message","_hoisted_27","data","carts","order","methods","getCarts","url","this","$http","get","then","res","console","log","catch","err","alert","response","clearCarts","delete","delCart","post","$refs","form","resetForm","mounted","__exports__","render"],"sourceRoot":""}