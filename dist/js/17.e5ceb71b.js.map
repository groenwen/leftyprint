{"version":3,"file":"js/17.e5ceb71b.js","mappings":"gMACOA,MAAM,a,GACTC,EAAAA,EAAAA,GAAgB,SAAb,aAAS,G,WAEe,Q,WAAkB,O,WACT,Q,WAAkB,S,WACR,S,WACxB,O,oGANxBC,EAAAA,EAAAA,IASM,MATN,EASM,CARJC,GACAF,EAAAA,EAAAA,GAKM,aAJJG,EAAAA,EAAAA,IAA2CC,EAAA,CAA9BC,GAAG,UAAQ,C,kBAAC,IAAI,M,MAIzB,GAHJF,EAAAA,EAAAA,IAAoDC,EAAA,CAAvCC,GAAG,mBAAiB,C,kBAAC,IAAI,M,MAGlC,GAFJL,EAAAA,EAAAA,GAA4C,KAAzCM,KAAK,IAAKC,QAAK,yBAAUC,EAAAA,UAAM,eAAI,MAElC,GADJL,EAAAA,EAAAA,IAAqCC,EAAA,CAAxBC,GAAG,KAAG,C,kBAAC,IAAG,M,SAEzBF,EAAAA,EAAAA,IAAeM,I,CAKnB,OACEC,OACE,MAAO,CAAC,CAGT,EACDC,QAAS,CACPC,aACE,MAAMC,EAAO,yDACPC,EAAQC,SAASC,OAAOC,QAAQ,mDAAoD,MAG1FC,KAAKC,MAAMC,SAASC,QAAQC,OAAOC,cAAgBT,EAG/CA,EACFI,KAAKC,MAAMK,KAAKX,GACbY,MAAMC,QAGNC,OAAOC,IAENC,MAAMD,EAAIE,SAASpB,KAAKqB,SACxBb,KAAKc,QAAQC,KAAK,SAAlB,KAIJJ,MAAM,UACNX,KAAKc,QAAQC,KAAK,UAErB,EACDC,SAEEnB,SAASC,OAAS,wBAClBa,MAAM,SACNX,KAAKc,QAAQC,KAAK,SAOpB,GAEFE,UACEjB,KAAKN,YACP,G,QCvDF,MAAMwB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://leftyprint/./src/views/Dashboard/DashboardView.vue","webpack://leftyprint/./src/views/Dashboard/DashboardView.vue?c545"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <p>Dashboard</p>\n    <nav>\n      <router-link to=\"/admin\">後台首頁</router-link> |\n      <router-link to=\"/admin/products\">產品列表</router-link> |&emsp;&emsp;\n      <a href=\"#\" @click.prevent=\"logout()\">登出</a> |&emsp;&emsp;\n      <router-link to=\"/\">回首頁</router-link>\n    </nav>\n    <router-view />\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n\n    }\n  },\n  methods: {\n    checkAdmin () {\n      const url = `${process.env.VUE_APP_API}/api/user/check`\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)groenToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1')\n\n      // 設置 token\n      this.$http.defaults.headers.common.Authorization = token\n\n      // 如果 token 有值\n      if (token) {\n        this.$http.post(url)\n          .then((res) => {\n            // 驗證成功\n          })\n          .catch((err) => {\n            // 驗證有誤 顯示錯誤訊息 回到登入頁面\n            alert(err.response.data.message)\n            this.$router.push('/login')\n          })\n      } else {\n        // 尚未登入 回到登入頁面\n        alert('尚未登入後台')\n        this.$router.push('/login')\n      }\n    },\n    logout () {\n      // 移除 token 即代表登出\n      document.cookie = 'groenToken=;expires=;'\n      alert('已登出後台')\n      this.$router.push('/login')\n      // const url = `${process.env.VUE_APP_API}/logout`\n      // this.$http.post(url)\n      //   .then((res) => {\n      //     alert(res.data.message)\n      //     this.$router.push('/login')\n      //   })\n    }\n  },\n  mounted () {\n    this.checkAdmin()\n  }\n}\n</script>\n","import { render } from \"./DashboardView.vue?vue&type=template&id=8f7e4e66\"\nimport script from \"./DashboardView.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\S2004001\\\\Downloads\\\\Hex\\\\leftyprint\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_2","_createVNode","_component_router_link","to","href","onClick","$options","_component_router_view","data","methods","checkAdmin","url","token","document","cookie","replace","this","$http","defaults","headers","common","Authorization","post","then","res","catch","err","alert","response","message","$router","push","logout","mounted","__exports__","render"],"sourceRoot":""}