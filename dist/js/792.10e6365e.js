"use strict";(self["webpackChunkleftyprint"]=self["webpackChunkleftyprint"]||[]).push([[792],{4751:function(e,t,s){function a(e){return{all:e=e||new Map,on:function(t,s){var a=e.get(t);a?a.push(s):e.set(t,[s])},off:function(t,s){var a=e.get(t);a&&(s?a.splice(a.indexOf(s)>>>0,1):e.set(t,[]))},emit:function(t,s){var a=e.get(t);a&&a.slice().map((function(e){e(s)})),(a=e.get("*"))&&a.slice().map((function(e){e(t,s)}))}}}s.d(t,{Z:function(){return r}});const n=a();var r=n},9802:function(e,t,s){s.d(t,{Z:function(){return u}});var a=s(6252);function n(e,t,s,n,r,o){return(0,a.wg)(),(0,a.iD)("div")}var r=s(4751),o={data(){return{data:{position:"top",toast:!0,icon:"success",title:"",showConfirmButton:!1,timer:1500}}},methods:{showAlert(e){this.$swal(e)}},mounted(){r.Z.on("sweetalert",(e=>{const t=e.split(", ");this.data.title=t[0],this.data.icon=t[1],this.$swal.fire(this.data)}))},unmounted(){r.Z.off("sweetalert")}},i=s(3744);const l=(0,i.Z)(o,[["render",n]]);var u=l},2792:function(e,t,s){s.r(t),s.d(t,{default:function(){return Z}});var a=s(6252),n=s(3577);const r={class:"mt-5"},o={class:"container"},i={class:"row justify-content-center"},l={class:"col-6"},u=(0,a._)("h1",{class:"text-primary fs-2 text-center mb-4"},"管理員登入",-1),c={class:"mb-3"},d=(0,a._)("label",{for:"email",class:"form-label"},"Email",-1),m={class:"mb-3"},p=(0,a._)("label",{for:"password",class:"form-label"},"密碼",-1),f=(0,a._)("div",{class:"d-grid"},[(0,a._)("button",{class:"btn btn-primary"},"登入")],-1),v={class:"text-center"},h=(0,a._)("span",{class:"material-symbols-outlined align-text-bottom"},"home",-1),w=(0,a.Uk)(" 回首頁 ");function b(e,t,s,b,_,g){const k=(0,a.up)("SweetAlert"),x=(0,a.up)("v-field"),y=(0,a.up)("error-message"),Z=(0,a.up)("v-form"),W=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(k),(0,a._)("div",o,[(0,a._)("div",i,[(0,a._)("div",l,[u,(0,a.Wm)(Z,{class:"mb-5",onSubmit:g.login},{default:(0,a.w5)((({errors:e})=>[(0,a._)("div",c,[d,(0,a.Wm)(x,{name:"email",id:"email",type:"email",rules:"required|email",class:(0,n.C_)(["form-control",{"is-invalid":e["email"]}]),modelValue:_.user.username,"onUpdate:modelValue":t[0]||(t[0]=e=>_.user.username=e)},null,8,["class","modelValue"]),(0,a.Wm)(y,{name:"email",class:"invalid-feedback"})]),(0,a._)("div",m,[p,(0,a.Wm)(x,{name:"密碼",id:"password",type:"password",rules:"required",class:(0,n.C_)(["form-control",{"is-invalid":e["密碼"]}]),modelValue:_.user.password,"onUpdate:modelValue":t[1]||(t[1]=e=>_.user.password=e)},null,8,["class","modelValue"]),(0,a.Wm)(y,{name:"密碼",class:"invalid-feedback"})]),f])),_:1},8,["onSubmit"]),(0,a._)("div",v,[(0,a.Wm)(W,{class:"btn btn-link",to:"/"},{default:(0,a.w5)((()=>[h,w])),_:1})])])])])])}var _=s(4751),g=s(9802),k={data(){return{user:{username:"",password:""}}},components:{SweetAlert:g.Z},methods:{login(){const e="https://vue3-course-api.hexschool.io/v2/admin/signin";this.$http.post(e,this.user).then((e=>{document.cookie=`groenToken=${e.data.token};expires=${new Date(e.data.expired)}`,this.$router.push("/admin/products")})).catch((e=>{_.Z.emit("sweetalert",`${e.response.data.message}, error`)}))}}},x=s(3744);const y=(0,x.Z)(k,[["render",b]]);var Z=y}}]);
//# sourceMappingURL=792.10e6365e.js.map