"use strict";(self["webpackChunkleftyprint"]=self["webpackChunkleftyprint"]||[]).push([[752],{4751:function(t,s,e){function i(t){return{all:t=t||new Map,on:function(s,e){var i=t.get(s);i?i.push(e):t.set(s,[e])},off:function(s,e){var i=t.get(s);i&&(e?i.splice(i.indexOf(e)>>>0,1):t.set(s,[]))},emit:function(s,e){var i=t.get(s);i&&i.slice().map((function(t){t(e)})),(i=t.get("*"))&&i.slice().map((function(t){t(s,e)}))}}}e.d(s,{Z:function(){return o}});const r=i();var o=r},9802:function(t,s,e){e.d(s,{Z:function(){return c}});var i=e(6252);function r(t,s,e,r,o,l){return(0,i.wg)(),(0,i.iD)("div")}var o=e(4751),l={data(){return{data:{position:"top",toast:!0,icon:"success",title:"",showConfirmButton:!1,timer:1500}}},methods:{showAlert(t){this.$swal(t)}},mounted(){o.Z.on("sweetalert",(t=>{const s=t.split(", ");this.data.title=s[0],this.data.icon=s[1],this.$swal.fire(this.data)}))},unmounted(){o.Z.off("sweetalert")}},n=e(3744);const a=(0,n.Z)(l,[["render",r]]);var c=a},4627:function(t,s,e){e.r(s),e.d(s,{default:function(){return lt}});var i=e(6252),r=e(3577),o=e(9963),l=e(5689);const n={class:"mb-5 bg-light"},a={class:"container py-4"},c={class:"row justify-content-between"},d={class:"col-5 align-self-center py-5"},u={class:"align-content-center pb-4 mb-5 border-bottom"},h={class:"mb-3 d-inline-block px-3 py-2 fs-8 lh-1 text-white bg-secondary rounded-pill position-relative"},p={class:"mb-3 fs-2"},m={class:"d-flex"},f={class:"d-flex align-items-center me-5"},g=(0,i._)("span",{class:"material-symbols-outlined fs-1 text-primary me-3"},"calendar_month",-1),_={class:"d-flex flex-column justify-content-center"},b=(0,i._)("span",{class:"fs-8 lh-1 mb-2 text-secondary"},"工作天數",-1),v={class:"lh-1"},w={class:"col-6"},y={class:"container"},x=(0,i._)("p",{class:"mb-4 text-secondary fs-5"},[(0,i._)("span",{class:"material-symbols-outlined me-2 fs-3 align-text-bottom"},"style"),(0,i.Uk)("選擇規格")],-1),P={class:"mb-4"},z=(0,i._)("span",{class:"me-3 mb-1 fs-7 text-secondary"},"尺寸  ",-1),k=["onClick"],S={class:"mb-4"},$=(0,i._)("span",{class:"me-3 mb-1 fs-7 text-secondary"},"單/雙面",-1),C=["onClick"],L={class:"mb-4 position-relative",style:{"min-height":"100px"}},A={class:"bg-light px-4 py-3"},Z={class:"table table-hover text-center"},U=(0,i._)("thead",null,[(0,i._)("tr",{class:"text-secondary"},[(0,i._)("th",{class:"text-start ps-4",width:"16%"},"尺寸"),(0,i._)("th",{width:"16%"},"單 / 雙面"),(0,i._)("th",null,"材質"),(0,i._)("th",null,"數量"),(0,i._)("th",null,"價格")])],-1),q={class:"text-start ps-4"},D={class:"text-primary"},j={class:"text-primary"},M={class:"text-primary"},Y=(0,i.Uk)(" $"),E={class:"mb-4 pt-4 border-top d-flex justify-content-end align-items-center"},F=(0,i._)("span",{class:"me-3 px-4 py-1 fs-7 rounded-pill bg-gray-200 text-secondary"},"規格",-1),K={class:"fw-bold me-5"},O={class:"text-danger"},H=(0,i.Uk)("NT$ "),W={class:"fs-2 fw-bold"},I={class:"mb-4"},N={class:"row justify-content-end align-items-center"},T=(0,i._)("div",{class:"col-auto"},[(0,i._)("p",{class:"mb-0 text-secondary"},[(0,i._)("span",{class:"material-symbols-outlined me-2 fs-3 align-text-bottom"},"cloud_upload"),(0,i.Uk)("上傳檔案 ")])],-1),V={class:"col-auto"},Q={class:"mb-5 text-end"},B=(0,i._)("span",{class:"material-symbols-outlined align-text-bottom"},"shopping_cart",-1),J=(0,i.Uk)(" 加入購物車 "),R=[B,J],X=(0,i.uE)('<div class="d-flex align-items-center"><div class="text-center me-5"><img src="'+l+'" height="80" class="mb-3" alt=""></div><div class="p-4 border border-gray-200 rounded-3"><p class="fw-bold">印刷注意事項</p><ul class="small mb-0"><li>圖檔解析度請設定300dpi，色彩模式為CMYK</li><li>完稿的檔案須包含出血尺寸。</li><li>紫色、咖啡色為敏感色，只要CMYK其中一色誤差時，視覺顏色就會有明顯差異。</li></ul></div></div>',1);function G(t,s,e,l,B,J){const G=(0,i.up)("v-loading"),tt=(0,i.up)("SweetAlert"),st=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(G,{active:B.isLoading},null,8,["active"]),(0,i.Wm)(tt),(0,i._)("div",n,[(0,i._)("div",a,[(0,i._)("div",c,[(0,i._)("div",d,[(0,i._)("div",u,[(0,i._)("span",h,(0,r.zw)(B.currProd.category),1),(0,i._)("h1",p,(0,r.zw)(B.currProd.title),1),(0,i._)("p",null,(0,r.zw)(B.currProd.content),1)]),(0,i._)("div",m,[(0,i._)("div",f,[g,(0,i._)("div",_,[b,(0,i._)("span",v,(0,r.zw)(B.currProd.description),1)])])])]),(0,i._)("div",w,[(0,i._)("div",{class:"bg-cover h-100",style:(0,r.j5)({backgroundImage:`url(${B.currProd.imageUrl})`})},null,4)])])])]),(0,i._)("div",y,[x,(0,i._)("div",P,[z,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(B.sizeList,((t,s)=>((0,i.wg)(),(0,i.iD)("a",{href:"#",key:`size${s}`,onClick:(0,o.iM)((s=>J.checkSizeAndSide("size",t)),["prevent"]),class:(0,r.C_)(["btn btn-sm rounded-pill me-2",[this.currSize===t?"btn-dark":"btn-outline-dark"]])},(0,r.zw)(t),11,k)))),128))]),(0,i._)("div",S,[$,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(B.sideList,((t,s)=>((0,i.wg)(),(0,i.iD)("a",{href:"#",key:`side${s}`,onClick:(0,o.iM)((s=>J.checkSizeAndSide("side",t)),["prevent"]),class:(0,r.C_)(["btn btn-sm rounded-pill me-2",[this.currProd.side===t?"btn-dark":"btn-outline-dark"]])},(0,r.zw)(t),11,C)))),128))]),(0,i._)("div",L,[(0,i.Wm)(G,{active:B.isLoading},null,8,["active"]),(0,i._)("div",A,[(0,i._)("table",Z,[U,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(B.sortProds,(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t.id,class:(0,r.C_)([{"bg-white":this.currProd.id===t.id},"position-relative"])},[(0,i._)("th",q,(0,r.zw)(t.width)+"x"+(0,r.zw)(t.height)+"mm",1),(0,i._)("td",null,(0,r.zw)(t.side),1),(0,i._)("td",D,(0,r.zw)(t.material),1),(0,i._)("td",j,(0,r.zw)(t.p_qty)+" "+(0,r.zw)(t.unit),1),(0,i._)("td",M,[Y,(0,i.Wm)(st,{to:`/product/${t.id}`,class:"fw-bolder stretched-link"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,r.zw)(t.price),1)])),_:2},1032,["to"])])],2)))),128))])])])]),(0,i._)("div",E,[F,(0,i._)("span",K,(0,r.zw)(B.currProd.width)+"x"+(0,r.zw)(B.currProd.height)+"mm ／ "+(0,r.zw)(B.currProd.side)+" ／ "+(0,r.zw)(B.currProd.material)+" ／ "+(0,r.zw)(B.currProd.p_qty)+" 張",1),(0,i._)("span",O,[H,(0,i._)("span",W,(0,r.zw)(B.currProd.price),1)])]),(0,i._)("div",I,[(0,i._)("form",{onSubmit:s[1]||(s[1]=(0,o.iM)(((...t)=>J.uploadFile&&J.uploadFile(...t)),["prevent"]))},[(0,i._)("div",N,[T,(0,i._)("div",V,[(0,i._)("input",{class:"form-control form-control-sm",type:"file",id:"formFile",onChange:s[0]||(s[0]=(...t)=>J.choseFile&&J.choseFile(...t))},null,32)])])],32)]),(0,i._)("div",Q,[(0,i._)("a",{href:"#",class:(0,r.C_)(["btn btn-primary",{disabled:void 0===this.file.name}]),onClick:s[2]||(s[2]=(0,o.iM)((t=>J.addToCart()),["prevent"]))},R,2)]),X])],64)}var tt=e.p+"img/demo.5adcd0bc.jpg",st=e(4751),et=e(9802),it={data(){return{isLoading:!1,VUE_APP:"https://vue3-course-api.hexschool.io/v2/api/groen",currProd:{},currProds:[],sortProds:[],currSize:"",currSide:"",carts:[],sizeList:[],sideList:[],file:{}}},computed:{prodId(){return this.$route.params.id}},watch:{prodId(){this.getProds()}},components:{SweetAlert:et.Z},methods:{getProds(){this.isLoading=!0;const t=`${this.VUE_APP}/products/all`;this.$http.get(t).then((t=>{this.isLoading=!1;const s=t.data.products;this.currProd=s.find((t=>t.id===this.prodId)),this.currSize=`${this.currProd.width}x${this.currProd.height}`,this.currSide=this.currProd.side,this.currProds=s.filter((t=>t.title===this.currProd.title)),this.showSizeAndSide(),this.getSortProds()})).catch((t=>{st.Z.emit("sweetalert",`${t.response.data.message}, error`)}))},checkSizeAndSide(t,s){if("size"===t){const t=s.split("x");this.currSize=`${t[0]}x${t[1]}`}else"side"===t&&(this.currSide=s);this.getSortProds(),this.currProd={...this.sortProds[0]},this.$router.push(`/product/${this.currProd.id}`)},getSortProds(){const t=this.currProds.filter(((t,s)=>{const e=this.currSize.split("x");return t.width===Number(e[0])&&t.height===Number(e[1])&&t.side===this.currSide})),s=t.map(((t,s)=>({index:s,value:t})));s.sort(((t,s)=>t.value.p_qty>s.value.p_qty?1:t.value.p_qty<s.value.p_qty?-1:0)),this.sortProds=s.map((s=>t[s.index]))},showSizeAndSide(){const t=this.currProds.map((t=>`${t.width}x${t.height}`)),s=this.currProds.map((t=>t.side));this.sizeList=t.filter(((s,e)=>t.indexOf(s)===e)),this.sizeList.sort(),this.sideList=s.filter(((t,e)=>s.indexOf(t)===e)),this.sideList.sort()},shallowEqual(t,s){const e=Object.keys(t),i=Object.keys(s);if(e.length!==i.length)return!1;for(let r=0;r<=e.length;r++){const o=t[e[r]],l=s[i[r]];if(o!==l)return!1}return!0},addToCart(){this.isLoading=!0;const t=`${this.VUE_APP}/cart`;this.$http.post(t,{data:{product_id:this.currProd.id,qty:1,files:[{id:0,front:tt}]}}).then((t=>{this.isLoading=!1,st.Z.emit("cartCount"),st.Z.emit("sweetalert",`${t.data.message}, success`)})).catch((t=>{this.isLoading=!1,st.Z.emit("sweetalert",`${t.response.data.message}, error`)}))},choseFile(t){this.file=t.target.files[0],console.log(this.file.name.length>0,"{}")},uploadFile(){const t="https://script.google.com/macros/s/AKfycbwuS2QeYvec72MZrQTPElC07XE1ntHm3tepY2ySf44qWRNvy_J9vADKZveVQ93dzhO8/exec";this.$http.post(t,this.file,{headers:{"content-type":"text/plain; charset=utf-8"}}).then((t=>{console.log(t)})).catch((t=>{console.log(t)}))}},mounted(){this.getProds()}},rt=e(3744);const ot=(0,rt.Z)(it,[["render",G]]);var lt=ot},5689:function(t,s,e){t.exports=e.p+"img/people03.128798c0.svg"}}]);
//# sourceMappingURL=752.f9327052.js.map