{"version":3,"file":"js/858.1e6e6846.js","mappings":"gMAGIA,EAAAA,EAAAA,GAAW,SAAR,QAAI,G,GACFC,MAAM,O,GAEFA,MAAM,Q,GAIJA,MAAM,a,GACNA,MAAM,c,GACNA,MAAM,a,WACwD,gB,sHAZ3EC,EAAAA,EAAAA,IAA4CC,EAAA,CAAhCC,OAAQC,EAAAA,WAAS,oBAC7BL,EAAAA,EAAAA,GAgBM,YAfJM,GACAN,EAAAA,EAAAA,GAaM,MAbN,EAaM,gBAZJO,EAAAA,EAAAA,IAWMC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAX4BJ,EAAAA,OAARK,K,WAA1BH,EAAAA,EAAAA,IAWM,OAXDN,MAAM,QAA+BU,IAAKD,EAAKE,IAApD,EACEZ,EAAAA,EAAAA,GASM,MATN,EASM,EALJA,EAAAA,EAAAA,GAIM,MAJN,EAIM,EAHJA,EAAAA,EAAAA,GAA0C,IAA1C,GAA0Ca,EAAAA,EAAAA,IAAjBH,EAAKI,OAAK,IACnCd,EAAAA,EAAAA,GAA+C,IAA/C,GAA+Ca,EAAAA,EAAAA,IAAvBH,EAAKK,aAAW,IACxCb,EAAAA,EAAAA,IAA2Fc,EAAA,CAA7EC,GAAE,YAAcP,EAAKE,KAAMX,MAAM,mBAA/C,C,kBAAiE,IAAY,M,KAA7E,sBARN,WAHJ,G,CA4BF,OACEiB,OACE,MAAO,CACLC,QAAU,oDACVC,WAAW,EACXC,SAAU,GACVC,MAAO,GAEV,EACDC,QAAS,CACPC,WACEC,KAAKL,WAAY,EAEjB,MAAMM,EAAO,GAAED,KAAKN,uBACpBM,KAAKE,MAAMC,IAAIF,GACZG,MAAMC,IACLL,KAAKL,WAAY,EACjBK,KAAKJ,SAAWS,EAAIZ,KAAKa,SAEzB,IAAIjB,EAAQW,KAAKJ,SAASW,KAAIC,GAAMA,EAAGnB,QAGvCA,EAAQA,EAAMoB,QAAO,CAACD,EAAIE,IAAMrB,EAAMsB,QAAQH,KAAQE,IAGtD,MAAME,EAASZ,KAAKJ,SAASW,KAAI,CAACC,EAAIE,KAC7B,CAAEG,MAAOH,EAAGI,MAAON,MAEtBO,EAAW,CAAC,QAAS,SAAU,OAAQ,OAC7CA,EAASC,SAAQR,IACfI,EAAOK,MAAK,CAACC,EAAGC,IACVD,EAAEJ,MAAMM,QAAQZ,GAAMW,EAAEL,MAAMM,QAAQZ,GAAY,EAClDU,EAAEJ,MAAMM,QAAQZ,GAAMW,EAAEL,MAAMM,QAAQZ,IAAa,EAChD,GAHT,IAMFR,KAAKJ,SAAWgB,EAAOL,KAAIC,GAAMR,KAAKJ,SAASY,EAAGK,SAGlDxB,EAAM2B,SAAQ,CAACR,EAAIE,KACjB,MAAMW,EAAOrB,KAAKJ,SAAS0B,MAAKC,GAAOf,IAAOe,EAAIlC,QAClDW,KAAKH,MAAM2B,KAAKH,EAAhB,GAFF,IAKDI,OAAOC,IACNC,MAAMD,EAAIE,SAASnC,KAAKoC,QAAxB,GAEN,GAEFC,UACE9B,KAAKD,UACP,G,UC1EF,MAAMgC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://leftyprint/./src/views/ProductsView.vue","webpack://leftyprint/./src/views/ProductsView.vue?91db"],"sourcesContent":["<template>\r\n  <v-loading :active=\"isLoading\" ></v-loading>\r\n  <div>\r\n    <p>所有產品</p>\r\n    <div class=\"row\">\r\n      <div class=\"col-4\" v-for=\"item in pords\" :key=\"item.id\">\r\n        <div class=\"card\">\r\n          <!-- <div class=\"card-img\" :style=\"{backgroundImage: `url(${item.imageUrl})`}\">\r\n\r\n          </div> -->\r\n          <div class=\"card-body\">\r\n            <p class=\"card-title\">{{ item.title }}</p>\r\n            <p class=\"card-text\">{{ item.description }}</p>\r\n            <router-link :to=\"`/product/${item.id}`\" class=\"btn btn-primary\">Go somewhere</router-link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<style lang=\"scss\">\r\n.card-img {\r\n  height: 300px;\r\n  background-size: cover;\r\n  background-position: center;\r\n  border-bottom-left-radius: 0px;\r\n  border-bottom-right-radius: 0px;\r\n}\r\n</style>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      VUE_APP: `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}`,\r\n      isLoading: false,\r\n      allProds: [],\r\n      pords: []\r\n    }\r\n  },\r\n  methods: {\r\n    getProds () {\r\n      this.isLoading = true\r\n\r\n      const url = `${this.VUE_APP}/products/all`\r\n      this.$http.get(url)\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          this.allProds = res.data.products\r\n          // 所有 title [a, a, b, c, c, ....]\r\n          let title = this.allProds.map(el => el.title)\r\n\r\n          // 不重複的 title [a, b, c, ....]\r\n          title = title.filter((el, i) => title.indexOf(el) === i)\r\n\r\n          // sort AllProds\r\n          const mapped = this.allProds.map((el, i) => {\r\n            return { index: i, value: el }\r\n          })\r\n          const sortList = ['width', 'height', 'side', 'qty']\r\n          sortList.forEach(el => {\r\n            mapped.sort((a, b) => {\r\n              if (a.value.content[el] > b.value.content[el]) return 1\r\n              if (a.value.content[el] < b.value.content[el]) return -1\r\n              return 0\r\n            })\r\n          })\r\n          this.allProds = mapped.map(el => this.allProds[el.index])\r\n\r\n          // 將第一個產品 設為產品入口\r\n          title.forEach((el, i) => {\r\n            const prod = this.allProds.find(el2 => el === el2.title)\r\n            this.pords.push(prod)\r\n          })\r\n        })\r\n        .catch((err) => {\r\n          alert(err.response.data.message)\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getProds()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ProductsView.vue?vue&type=template&id=4befcd2e\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductsView.vue?vue&type=style&index=0&id=4befcd2e&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\S2004001\\\\Downloads\\\\Hex\\\\leftyprint\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_createVNode","_component_v_loading","active","$data","_hoisted_1","_createElementBlock","_Fragment","_renderList","item","key","id","_toDisplayString","title","description","_component_router_link","to","data","VUE_APP","isLoading","allProds","pords","methods","getProds","this","url","$http","get","then","res","products","map","el","filter","i","indexOf","mapped","index","value","sortList","forEach","sort","a","b","content","prod","find","el2","push","catch","err","alert","response","message","mounted","__exports__","render"],"sourceRoot":""}