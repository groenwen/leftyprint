{"version":3,"file":"js/69.14d88eb8.js","mappings":"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","sources":["webpack://leftyprint/./src/views/ProductView.vue","webpack://leftyprint/./src/views/ProductView.vue?f743"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col d-flex flex-column justify-content-end\">\r\n        <p>{{ currProd.title }}</p>\r\n        <p>{{ currProd.description }}</p>\r\n      </div>\r\n      <div class=\"col-4\">\r\n        <!-- <div class=\"currProduct-img\" :style=\"{backgroundImage: `url(${currProd.imageUrl})`}\">\r\n\r\n        </div> -->\r\n      </div>\r\n    </div>\r\n\r\n    <hr />\r\n    <div class=\"mb-3\">\r\n      <p>尺寸 (size)</p>\r\n      <a\r\n        href=\"#\"\r\n        v-for=\"(item, index) in sizeList\"\r\n        :key=\"`size${index}`\"\r\n        @click.prevent=\"checkSizeAndSide('size', item)\"\r\n        class=\"btn btn-sm rounded-pill me-2\"\r\n        :class=\"[this.currSize === item ? 'btn-secondary' : 'btn-outline-secondary']\"\r\n        >{{ item }}\r\n      </a>\r\n    </div>\r\n    <div class=\"mb-3\">\r\n      <p>單/雙面 (side)</p>\r\n      <a\r\n        href=\"#\"\r\n        v-for=\"(item, index) in sideList\"\r\n        :key=\"`side${index}`\"\r\n        @click.prevent=\"checkSizeAndSide('side', item)\"\r\n        class=\"btn btn-sm rounded-pill me-2\"\r\n        :class=\"[\r\n          this.currProd.content.side === item\r\n            ? 'btn-secondary'\r\n            : 'btn-outline-secondary'\r\n        ]\"\r\n        >{{ item }}</a\r\n      >\r\n    </div>\r\n    <div class=\"position-relative\" style=\"min-height: 100px\">\r\n      <v-loading :active=\"isLoading\" ></v-loading>\r\n      <table class=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>size</th>\r\n            <th>side</th>\r\n            <th>材質</th>\r\n            <th>數量</th>\r\n            <th>origin_price</th>\r\n            <th>Price</th>\r\n            <th>ID</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"item in sortProds\" :key=\"item.id\" :class=\"{'bg-light':this.currProd.id === item.id}\">\r\n            <th>{{ item.content.width }}x{{ item.content.height }}</th>\r\n            <td>{{ item.content.side }}</td>\r\n            <td>{{ item.content.material }}</td>\r\n            <td>{{ item.content.qty }}</td>\r\n            <td>$ {{ item.origin_price }}</td>\r\n            <td><router-link :to=\"`/product/${item.id}`\">$ {{ item.price }}</router-link></td>\r\n            <td>{{ item.id }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <p>NT$ {{currProd.price}}</p>\r\n    <a href=\"#\" class=\"btn btn-secondary\" @click.prevent=\"addToCart()\">Add to cart</a>\r\n  </div>\r\n</template>\r\n<style lang=\"scss\">\r\n.currProduct-img {\r\n  width: 100%;\r\n  height: 300px;\r\n  background-size: cover;\r\n  background-position: center;\r\n}\r\n</style>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      isLoading: true,\r\n      VUE_APP: `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}`,\r\n      currProd: {},\r\n      currProds: [],\r\n      sortProds: [],\r\n      currSize: '',\r\n      currSide: '',\r\n      carts: [],\r\n      sizeList: [],\r\n      sideList: []\r\n    }\r\n  },\r\n  computed: {\r\n    prodId () {\r\n      console.log('computed')\r\n      return this.$route.params.id\r\n    }\r\n  },\r\n  watch: {\r\n    prodId () {\r\n      console.log('watch')\r\n      this.getProds()\r\n    }\r\n  },\r\n  methods: {\r\n    // 1.顯示所有選項 size side\r\n    // 2. 所有產品 currProducts > 所有 title currProduct\r\n    // 3. 依篩選條件 顯示產品 sortcurrProduct\r\n    // 4. 切換條件時 更新產品列表\r\n    // 所有 size、篩選過的 size、當前 size\r\n    // canva https://developer.mozilla.org/zh-TW/docs/Web/API/HTMLCanvasElement/toDataURL\r\n    getProds () {\r\n      // 取得所有產品\r\n      const url = `${this.VUE_APP}/products/all`\r\n      this.$http\r\n        .get(url)\r\n        .then((res) => {\r\n          // [a, b, c...]\r\n          const allProds = res.data.products\r\n          // obj\r\n          this.currProd = allProds.find((item) => item.id === this.prodId)\r\n          this.currSize = `${this.currProd.content.width}x${this.currProd.content.height}`\r\n          this.currSide = this.currProd.content.side\r\n          // [a, a, a...]\r\n          this.currProds = allProds.filter((item) => item.title === this.currProd.title)\r\n          // 列出 size, side\r\n          this.showSizeAndSide()\r\n\r\n          // 篩選\r\n          this.getSortProds()\r\n\r\n          this.isLoading = false\r\n        })\r\n        .catch((err) => {\r\n          alert(err.response.data.message)\r\n        })\r\n    },\r\n    checkSizeAndSide (status, val) {\r\n      if (status === 'size') {\r\n        const size = val.split('x')\r\n        this.currSize = `${size[0]}x${size[1]}`\r\n      } else if (status === 'side') {\r\n        this.currSide = val\r\n      }\r\n      this.getSortProds()\r\n      this.currProd = { ...this.sortProds[0] }\r\n      this.$router.push(`/product/${this.currProd.id}`)\r\n    },\r\n    getSortProds () {\r\n      // 選 size, side 時 預設選取 sortProds 的第一筆資料\r\n      // 選 price 時 即選取該資料\r\n\r\n      // 篩選的資料\r\n      const filterProds = this.currProds.filter((el, i) => {\r\n        const elCnt = el.content\r\n        const size = this.currSize.split('x')\r\n        return elCnt.width === Number(size[0]) && elCnt.height === Number(size[1]) && elCnt.side === this.currSide\r\n      })\r\n\r\n      // 排序 - 先將資料存入暫時的 Array\r\n      const mapped = filterProds.map((el, i) => {\r\n        return { index: i, value: el }\r\n      })\r\n      // 排序 - 暫時的 Array 依數量排序\r\n      mapped.sort((a, b) => {\r\n        if (a.value.content.qty > b.value.content.qty) return 1\r\n        if (a.value.content.qty < b.value.content.qty) return -1\r\n        return 0\r\n      })\r\n      // 排序 - 再依 filterProds 的資料存回 sortProds\r\n      this.sortProds = mapped.map(el => filterProds[el.index])\r\n    },\r\n    // 初始化顯示 size, side\r\n    showSizeAndSide () {\r\n      // 該產品所有 size, side\r\n      const allSize = this.currProds.map(item => {\r\n        return `${item.content.width}x${item.content.height}`\r\n      })\r\n      const allSide = this.currProds.map(item => {\r\n        return item.content.side\r\n      })\r\n\r\n      // 不重複的 size\r\n      this.sizeList = allSize.filter((item, index) => allSize.indexOf(item) === index)\r\n      this.sizeList.sort() // 排序 size\r\n      // 不重複的 side\r\n      this.sideList = allSide.filter((item, index) => allSide.indexOf(item) === index)\r\n      this.sideList.sort() // 排序 side\r\n    },\r\n    // 物件比較\r\n    shallowEqual (obj1, obj2) {\r\n      // 取出各自的 key 值 ['width', 'height']\r\n      const keys1 = Object.keys(obj1)\r\n      const keys2 = Object.keys(obj2)\r\n\r\n      // 比較長度 如果不相等 返回\r\n      if (keys1.length !== keys2.length) {\r\n        return false\r\n      }\r\n      for (let i = 0; i <= keys1.length; i++) {\r\n        const val1 = obj1[keys1[i]]\r\n        const val2 = obj2[keys2[i]]\r\n        if (val1 !== val2) {\r\n          return false\r\n        }\r\n      }\r\n      return true\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getProds()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ProductView.vue?vue&type=template&id=6aa6615d\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductView.vue?vue&type=style&index=0&id=6aa6615d&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\S2004001\\\\Downloads\\\\Hex\\\\leftyprint\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_createElementBlock","_toDisplayString","$data","title","description","_hoisted_4","_hoisted_5","_hoisted_7","_Fragment","_renderList","item","index","href","key","onClick","$options","currSize","_hoisted_8","_hoisted_10","currProd","content","side","_hoisted_11","_createVNode","_component_v_loading","active","_hoisted_14","id","width","height","material","qty","origin_price","_component_router_link","to","price","_ctx","data","isLoading","VUE_APP","currProds","sortProds","currSide","carts","sizeList","sideList","computed","prodId","console","log","this","$route","params","watch","getProds","methods","url","$http","get","then","res","allProds","products","find","filter","showSizeAndSide","getSortProds","catch","err","alert","response","message","checkSizeAndSide","status","val","size","split","$router","push","filterProds","el","i","elCnt","Number","mapped","map","value","sort","a","b","allSize","allSide","indexOf","shallowEqual","obj1","obj2","keys1","Object","keys","keys2","length","val1","val2","mounted","__exports__","render"],"sourceRoot":""}