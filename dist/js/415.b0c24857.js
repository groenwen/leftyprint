"use strict";(self["webpackChunkleftyprint"]=self["webpackChunkleftyprint"]||[]).push([[415],{4751:function(t,e,n){function o(t){return{all:t=t||new Map,on:function(e,n){var o=t.get(e);o?o.push(n):t.set(e,[n])},off:function(e,n){var o=t.get(e);o&&(n?o.splice(o.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var o=t.get(e);o&&o.slice().map((function(t){t(n)})),(o=t.get("*"))&&o.slice().map((function(t){t(e,n)}))}}}n.d(e,{Z:function(){return i}});const s=o();var i=s},9802:function(t,e,n){n.d(e,{Z:function(){return c}});var o=n(6252);function s(t,e,n,s,i,r){return(0,o.wg)(),(0,o.iD)("div")}var i=n(4751),r={data(){return{data:{position:"top",toast:!0,icon:"success",title:"",showConfirmButton:!1,timer:1500}}},methods:{showAlert(t){this.$swal(t)}},mounted(){i.Z.on("sweetalert",(t=>{const e=t.split(", ");this.data.title=e[0],this.data.icon=e[1],this.$swal.fire(this.data)}))},unmounted(){i.Z.off("sweetalert")}},u=n(3744);const a=(0,u.Z)(r,[["render",s]]);var c=a},1415:function(t,e,n){n.r(e),n.d(e,{default:function(){return b}});var o=n(6252),s=n(9963);const i={class:"container"},r=(0,o._)("p",null,"Dashboard",-1),u={class:"mb-5"},a=(0,o.Uk)("後台首頁"),c=(0,o.Uk)(" | "),l=(0,o.Uk)("產品列表"),d=(0,o.Uk)(" | "),h=(0,o.Uk)("訂單管理"),m=(0,o.Uk)(" | "),p=(0,o.Uk)("折扣碼管理"),f=(0,o.Uk)(" | "),k=(0,o.Uk)("上傳圖片"),w=(0,o.Uk)(" |   "),v=(0,o.Uk)(" |   "),g=(0,o.Uk)("回首頁");function U(t,e,n,U,$,Z){const _=(0,o.up)("SweetAlert"),W=(0,o.up)("router-link"),A=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(_),(0,o._)("div",i,[r,(0,o._)("nav",u,[(0,o.Wm)(W,{to:"/admin"},{default:(0,o.w5)((()=>[a])),_:1}),c,(0,o.Wm)(W,{to:"/admin/products"},{default:(0,o.w5)((()=>[l])),_:1}),d,(0,o.Wm)(W,{to:"/admin/orders"},{default:(0,o.w5)((()=>[h])),_:1}),m,(0,o.Wm)(W,{to:"/admin/coupons"},{default:(0,o.w5)((()=>[p])),_:1}),f,(0,o.Wm)(W,{to:"/admin/upload"},{default:(0,o.w5)((()=>[k])),_:1}),w,(0,o._)("a",{href:"#",onClick:e[0]||(e[0]=(0,s.iM)((t=>Z.logout()),["prevent"]))},"登出"),v,(0,o.Wm)(W,{to:"/"},{default:(0,o.w5)((()=>[g])),_:1})]),(0,o.Wm)(A)])])}var $=n(4751),Z=n(9802),_={data(){return{}},components:{SweetAlert:Z.Z},methods:{checkAdmin(){const t="https://vue3-course-api.hexschool.io/v2/api/user/check",e=document.cookie.replace(/(?:(?:^|.*;\s*)groenToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=e,e?this.$http.post(t).then((t=>{this.$router.push("/admin/products")})).catch((t=>{$.Z.emit("sweetalert",`${t.response.data.message}, error`),this.$router.push("/login")})):($.Z.emit("sweetalert","尚未登入, info"),this.$router.push("/login"))},logout(){document.cookie="groenToken=;expires=;",$.Z.emit("sweetalert","已登出, success"),this.$router.push("/login")}},mounted(){this.checkAdmin()}},W=n(3744);const A=(0,W.Z)(_,[["render",U]]);var b=A}}]);
//# sourceMappingURL=415.b0c24857.js.map